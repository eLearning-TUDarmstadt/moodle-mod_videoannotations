define(["jquery","core/ajax","core/templates","core/notification"],function(a,b,c,d){return{createNewAnnotation:function(){a("#newannotationbutton").on("click",function(){var e=b.call([{methodname:"mod_videoannotations_create_annotation",args:{annotationinstance:1,timeposition:0,duration:10,subject:a("#newannotation_subject").val(),text:a("#newannotation_text").val(),isquestion:a("#newannotation_isquestion").is(":checked"),isanswered:!1},fail:d.exception}]);e[0].done(function(){b.call([{methodname:"mod_videoannotations_get_annotations",args:{id:1},fail:d.exception,done:function(b){var d={annotations:b};c.render("mod_videoannotations/annotation_list",d).done(function(b,d){a('[data-region="annotation-list"]').replaceWith(b),c.runTemplateJS(d)})}}])})})}}});